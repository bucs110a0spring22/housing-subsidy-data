knitr::opts_chunk$set(warning=FALSE, message=FALSE, cache=TRUE, fig.align="center", echo = TRUE)
library(boxr)
library(tidyverse)
library(viridis)
library(foreign)
library(estimatr)
library(MatchIt)
library(kableExtra)
library(tidycensus)
library(sf)
library(FNN)
library(qwraps2)
qwraps2::lazyload_cache_dir("C:/Users/sydng/Desktop/VincentWork/BSRP/BSRP_modeling_3_3_20_cache/html")
# block groups and tracts joined
blockgrps_tracts_2010 <- st_join(blockgrp_2010 %>% rename(GEOID_2010_blockgrp = GEOID,
NAME_2010_blockgrp = NAME),
tracts.2010 %>% rename(GEOID_2010_tracts = GEOID,
NAME_2010_tracts = NAME),
largest = TRUE) %>%
# rename to make GEOID/NAME unique
select(GEOID_2010_blockgrp, NAME_2010_blockgrp, GEOID_2010_tracts, NAME_2010_tracts) %>%
st_transform(2272)
# read in crimes
all_crime_filtered <- st_read("C:/Users/sydng/Desktop/VincentWork/BSRP/all_crime_filtered/all_crime_filtered_92319.shp")
# read in parcel/block faces created previously by Michael - from 11_18_19 r env from box
parcels_and_block_faces <- st_read("C:/Users/sydng/Desktop/VincentWork/BSRP/parcels_and_block_faces.shp")
# Turn each data frame into a matrix
crimesXY <- st_coordinates(all_crime_filtered %>%
select(geometry)) %>%
as.matrix()
parcelsXY <- st_coordinates(parcels_and_block_faces %>% as.data.frame() %>%
filter(is.na(lat) == FALSE)%>%
select(-geometry) %>%
st_as_sf(., coords = c("lon", "lat"), crs = 4326) %>%
select(geometry)) %>%
#sample_n(10)) %>%
as.matrix()
# Create a crosswalk called 'id` for parcel objectid in the sf and parcel objectid in the matrix (they are slightly different)
# Do the same for the crimes
parcels_and_matrixXY <- cbind(parcelsXY %>%
as.data.frame() %>%
cbind(., id=seq_len(nrow(.))),
parcels_and_block_faces %>%
as.data.frame() %>%
filter(is.na(lat) == FALSE)%>%
select(-geometry))
crimes_and_matrixXY <- cbind(crimesXY %>%
as.data.frame() %>%
cbind(., id=seq_len(nrow(.))), #bind the matrix to a column id
all_crime_filtered %>%
as.data.frame() %>%
select(-geometry))
# Now run the get.knnx function for the 1 nearest neighbor and return a data frame of crimes alongside the nearest parcel's objectID and block_face_info
# returning lat/lon of parcel info as well
# will use to get block group/tract info - which one nearest parcel is in
all_crime_filtered_block_faces_knn <- get.knnx(parcelsXY, crimesXY, 1)$nn.index %>%
as.data.frame() %>%
cbind(., crimeid = seq_len(nrow(.))) %>%
rename(parcelID = V1) %>%
left_join(., crimes_and_matrixXY,
by = c("crimeid" = "id")) %>%
left_join(., parcels_and_matrixXY %>%
select(-c(X,Y)),
by = c("parcelID" = "id"))  %>%
select(-blck_fc) %>%
rename(block_face = blck_f_) %>%
filter(is.na(block_face) == FALSE) %>%
select(-c(parcelID, crimeid, p_OBJEC))
# convert this into a shapefile using the lat/lon of the nearest parcel
all_crime_filtered_block_faces_knn_sf <- all_crime_filtered_block_faces_knn %>%
st_as_sf(coords = c("lon", "lat"), crs = 4326) %>%
st_transform(2272)
# spatial join to blockgroups and tracts
all_crime_filtered_block_faces_knn_sf_blkgrpTracts <- st_join(all_crime_filtered_block_faces_knn_sf, blockgrps_tracts_2010)
head(all_crime_filtered_block_faces_knn_sf_blkgrpTracts)
# for each block_face find the blockgroup/tract it is in
# there are 19821 unique block faces in the crime data - should equal this
block_faces_blkgrp_tracts <- all_crime_filtered_block_faces_knn_sf_blkgrpTracts %>%
as.data.frame() %>%
select(block_face, GEOID_2010_blockgrp, NAME_2010_blockgrp, GEOID_2010_tracts, NAME_2010_tracts) %>%
unique()
View(block_faces_blkgrp_tracts)
length(unqique(all_crime_filtered_block_faces_knn$block_face))
length(unique(all_crime_filtered_block_faces_knn$block_face))
# Now run the get.knnx function for the 1 nearest neighbor and return a data frame of crimes alongside the nearest parcel's objectID and block_face_info
all_crime_filtered_block_faces_knn <- get.knnx(parcelsXY, crimesXY, 1)$nn.index %>%
as.data.frame() %>%
cbind(., crimeid = seq_len(nrow(.))) %>%
rename(parcelID = V1) %>%
left_join(., crimes_and_matrixXY,
by = c("crimeid" = "id")) %>%
left_join(., parcels_and_matrixXY %>%
select(-c(X, Y, lat, lon)),
by = c("parcelID" = "id"))  %>%
select(-blck_fc) %>%
rename(block_face = blck_f_) %>%
filter(is.na(block_face) == FALSE) %>%
select(-c(parcelID, crimeid, p_OBJEC))
# convert this into a shapefile using XY coordinates
all_crime_filtered_block_faces_knn_sf <- all_crime_filtered_block_faces_knn %>%
st_as_sf(coords = c("X", "Y"), crs = 4326) %>%
st_transform(2272)
# spatial join to tracts
all_crime_filtered_block_faces_knn_sf_tracts <- st_join(all_crime_filtered_block_faces_knn_sf, tracts.2010 %>% st_transform(2272))
rm(block_faces_blkgrp_tracts, all_crime_filtered_block_faces_knn_sf_blkgrpTracts, blockgrps_tracts_2010)
head(all_crime_filtered_block_faces_knn_sf_tracts)
# for each block_face find the blockgroup/tract it is in
# there are 19821 unique block faces in the crime data - should equal this
block_faces_tracts <- all_crime_filtered_block_faces_knn_sf_tracts %>%
as.data.frame() %>%
select(block_face, GEOID_2010_blockgrp, NAME_2010_blockgrp, GEOID_2010_tracts, NAME_2010_tracts) %>%
unique()
# for each block_face find the blockgroup/tract it is in
# there are 19821 unique block faces in the crime data - should equal this
block_faces_tracts <- all_crime_filtered_block_faces_knn_sf_tracts %>%
as.data.frame() %>%
select(block_face, GEOID, NAME) %>%
unique()
View(block_faces_tracts)
z <- all_crime_filtered_block_faces_knn_sf_tracts %>% as.data.frame() %>% group_by(block_face, GEOID) %>% tally()
View(z)
z <- z %>% mutate(dups = duplicated(block_face))
z_block_faces <- z %>% filter(dups == "TRUE")
z2 <- z %>% filter(block_face %in% z_block_faces$block_face)
View(z2)
head(parcels_and_block_faces)
z <- head(parcels_and_block_faces)
plot(z)
View()
View(z)
# Now run the get.knnx function for the 1 nearest neighbor and return a data frame of crimes alongside the nearest parcel's objectID and block_face_info
all_crime_filtered_block_faces_knn <- get.knnx(parcelsXY, crimesXY, 1)$nn.index %>%
as.data.frame() %>%
cbind(., crimeid = seq_len(nrow(.))) %>%
rename(parcelID = V1) %>%
left_join(., crimes_and_matrixXY,
by = c("crimeid" = "id")) %>%
left_join(., parcels_and_matrixXY %>%
select(-c(X, Y, lat, lon)),
by = c("parcelID" = "id"))  %>%
select(-blck_fc) %>%
rename(block_face = blck_f_) %>%
filter(is.na(block_face) == FALSE) %>%
select(-c(parcelID, crimeid))
# convert this into a shapefile - joining back to nearest parcel and will use this to determine blockgrp/tract
all_crime_filtered_block_faces_knn_sf <- all_crime_filtered_block_faces_knn %>%
left_join(., parcels_and_block_faces, by = "p_OBJEC") %>%
st_Sf() %>%
st_transform(2272)
# convert this into a shapefile - joining back to nearest parcel and will use this to determine blockgrp/tract
all_crime_filtered_block_faces_knn_sf <- all_crime_filtered_block_faces_knn %>%
left_join(., parcels_and_block_faces, by = "p_OBJEC") %>%
st_sf() %>%
st_transform(2272)
head(all_crime_filtered_block_faces_knn_sf)
length(unique(all_crime_filtered_block_faces_knn$block_face))
# spatial join to tracts
all_crime_filtered_block_faces_knn_sf_tracts <- st_join(all_crime_filtered_block_faces_knn_sf, blockgrps_tracts_2010, largest = TRUE)
# block groups and tracts joined
blockgrps_tracts_2010 <- st_join(blockgrp_2010 %>% rename(GEOID_2010_blockgrp = GEOID,
NAME_2010_blockgrp = NAME),
tracts.2010 %>% rename(GEOID_2010_tracts = GEOID,
NAME_2010_tracts = NAME),
largest = TRUE) %>%
# rename to make GEOID/NAME unique
select(GEOID_2010_blockgrp, NAME_2010_blockgrp, GEOID_2010_tracts, NAME_2010_tracts) %>%
st_transform(2272)
# spatial join to tracts
all_crime_filtered_block_faces_knn_sf_tracts <- st_join(all_crime_filtered_block_faces_knn_sf, blockgrps_tracts_2010, largest = TRUE)
head(all_crime_filtered_block_faces_knn_sf_tracts)
# for each block_face find the blockgroup/tract it is in
# there are 19821 unique block faces in the crime data - should equal this
block_faces_tracts <- all_crime_filtered_block_faces_knn_sf_tracts %>%
as.data.frame() %>%
select(block_face, GEOID_2010_blockgrp, NAME_2010_blockgrp, GEOID_2010_tracts, GEOID_2010_blockgrp) %>%
unique()
View(block_faces_tracts)
z <- block_faces_tracts
z <- z %>% mutate(dups = duplicated(block_face))
z_block_faces <- z %>% filter(dups == "TRUE")
z2 <- z %>% filter(block_face %in% z_block_faces$block_face)
View(z2)
install.packages("geofacet")
library(geofacet)
pa_state_grid <- data.frame(
code = c("Erie", "Warren", "McKean", "Potter", "Tioga", "Bradford", "Susquehanna", "Wayne", "Crawford", "Cameron", "Elk", "Forest", "Pike", "Lackawanna", "Wyoming", "Sullivan", "Lycoming", "Clinton", "Venango", "Mercer", "Jefferson", "Clarion", "Luzerne", "Montour", "Union", "Centre", "Clearfield", "Lawrence", "Butler", "Columbia", "Armstrong", "Indiana", "Monroe", "Carbon", "Schuylkill", "Northumberland", "Snyder", "Mifflin", "Beaver", "Northampton", "Lehigh", "Berks", "Perry", "Juniata", "Blair", "Cambria", "Dauphin", "Lebanon", "Allegheny", "Bucks", "Montgomery", "Cumberland", "Huntingdon", "Westmoreland", "Washington", "Greene", "Philadelphia", "Delaware", "Chester", "Lancaster", "York", "Adams", "Franklin", "Fulton", "Bedford", "Somerset", "Fayette"),
name = 1:67,
row = c(1, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 7, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8),
col = c(1, 3, 4, 6, 8, 9, 11, 12, 1, 5, 4, 3, 12, 11, 10, 9, 7, 6, 2, 1, 4, 3, 11, 8, 7, 6, 5, 1, 2, 9, 3, 4, 12, 11, 10, 8, 7, 6, 1, 12, 11, 10, 7, 6, 4, 3, 8, 9, 2, 12, 11, 7, 5, 3, 1, 1, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2),
stringsAsFactors = FALSE
)
geofacet::grid_preview(pa_state_grid)
grid_submit(pa_state_grid_counties , name = "pa_state_grid ", desc = "A grid of counties in Pennsylvania, US")
grid_submit(pa_state_grid, name = "pa_state_grid_counties", desc = "A grid of counties in Pennsylvania, US")
grid_submit(pa_state_grid, name = "pa_state_grid_counties", desc = "A grid of counties in Pennsylvania, US")
grid_submit(pa_state_grid, name = "pa_state_grid_counties", desc = "A grid of counties in Pennsylvania, US")
library(tidyverse)
library(sf)
library(RSocrata)
policeDistricts <-
st_read("https://data.cityofchicago.org/api/geospatial/fthy-xz3r?method=export&format=GeoJSON") %>%
st_transform(crs=102271) %>%
dplyr::select(District = dist_num)
policeBeats <-
st_read("https://data.cityofchicago.org/api/geospatial/aerh-rz74?method=export&format=GeoJSON") %>%
st_transform(crs=102271) %>%
dplyr::select(District = beat_num)
setwd("~/UrbanSpatial/z_Chapters_4_6/CH5_PredictivePolicing/data_sydney")
st_write(policeDistricts, "Police_Districts.shp")
st_write(policeBeats, "Police_Beats")
st_write(policeBeats, "Police_Beats.shp")
burglaries <-
read.socrata("https://data.cityofchicago.org/Public-Safety/Crimes-2017/d62x-nvdr") %>%
filter(Primary.Type == "BURGLARY" &
Description == "FORCIBLE ENTRY")
burglaries <-
read.socrata("https://data.cityofchicago.org/Public-Safety/Crimes-2017/d62x-nvdr") %>%
filter(Primary.Type == "BURGLARY" &
Description == "FORCIBLE ENTRY") %>%
mutate(x = gsub("[()]", "", Location)) %>%
separate(x,into= c("Y","X"), sep=",") %>%
mutate(X = as.numeric(X),
Y = as.numeric(Y)) %>%
na.omit %>%
st_as_sf(coords = c("X", "Y"), crs = 4326, agr = "constant")%>%
st_transform(102271) %>%
distinct()
head(burglaries)
st_write(burglaries, "burglaries17.shp")
abandonCars <-
read.socrata("https://data.cityofchicago.org/Service-Requests/311-Service-Requests-Abandoned-Vehicles/3c9v-pnva") %>%
mutate(year = substr(creation_date,1,4)) %>%
filter(year == "2017") %>%
dplyr::select(Y = latitude, X = longitude) %>%
na.omit() %>%
st_as_sf(coords = c("X", "Y"), crs = 4326, agr = "constant") %>%
st_transform(st_crs(fishnet)) %>%
mutate(Legend = "Abandoned_Cars")
abandonCars <-
read.socrata("https://data.cityofchicago.org/Service-Requests/311-Service-Requests-Abandoned-Vehicles/3c9v-pnva") %>%
mutate(year = substr(creation_date,1,4)) %>%
filter(year == "2017") %>%
dplyr::select(Y = latitude, X = longitude) %>%
na.omit() %>%
st_as_sf(coords = c("X", "Y"), crs = 4326, agr = "constant") %>%
st_transform(102271) %>%
mutate(Legend = "Abandoned_Cars")
st_write(abandonCars, "abandoned_cars.shp")
abandonBuildings <-
read.socrata("https://data.cityofchicago.org/Service-Requests/311-Service-Requests-Vacant-and-Abandoned-Building/7nii-7srd") %>%
mutate(year = substr(date_service_request_was_received,1,4)) %>%
filter(year == "2017") %>%
dplyr::select(Y = latitude, X = longitude) %>%
na.omit() %>%
st_as_sf(coords = c("X", "Y"), crs = 4326, agr = "constant") %>%
st_transform(102271) %>%
mutate(Legend = "Abandoned_Buildings")
st_write(abandonBuildings, abandoned_buildings.shp)
st_write(abandonBuildings, "abandoned_buildings.shp")
graffiti <-
read.socrata("https://data.cityofchicago.org/Service-Requests/311-Service-Requests-Graffiti-Removal-Historical/hec5-y4x5") %>%
mutate(year = substr(creation_date,1,4)) %>%
filter(year == "2017") %>%
filter(where_is_the_graffiti_located_ == "Front" |
where_is_the_graffiti_located_ == "Rear" | where_is_the_graffiti_located_ == "Side") %>%
dplyr::select(Y = latitude, X = longitude) %>%
na.omit() %>%
st_as_sf(coords = c("X", "Y"), crs = 4326, agr = "constant") %>%
st_transform(102271) %>%
mutate(Legend = "Graffiti")
st_write(graffiti, "graffiti.shp")
streetLightsOut <-
read.socrata("https://data.cityofchicago.org/Service-Requests/311-Service-Requests-Street-Lights-All-Out/zuxi-7xem") %>%
mutate(year = substr(creation_date,1,4)) %>%
filter(year == "2017") %>%
dplyr::select(Y = latitude, X = longitude) %>%
na.omit() %>%
st_as_sf(coords = c("X", "Y"), crs = 4326, agr = "constant") %>%
st_transform(102271) %>%
mutate(Legend = "Street_Lights_Out")
st_write(streeLightsOut, "street_light_outages.shp")
st_write(streetLightsOut, "street_light_outages.shp")
sanitation <-
read.socrata("https://data.cityofchicago.org/Service-Requests/311-Service-Requests-Sanitation-Code-Complaints-Hi/me59-5fac") %>%
mutate(year = substr(creation_date,1,4)) %>%
filter(year == "2017") %>%
dplyr::select(Y = latitude, X = longitude) %>%
na.omit() %>%
st_as_sf(coords = c("X", "Y"), crs = 4326, agr = "constant") %>%
st_transform(102271) %>%
mutate(Legend = "Sanitation")
st_write(sanitation, "sanitation.shp")
liquorRetail <-
read.socrata("https://data.cityofchicago.org/Community-Economic-Development/Business-Licenses-Cur   rent-Liquor-and-Public-Places/nrmj-3kcf") %>%
filter(BUSINESS.ACTIVITY == "Retail Sales of Packaged Liquor") %>%
dplyr::select(Y = LATITUDE, X = LONGITUDE) %>%
na.omit() %>%
st_as_sf(coords = c("X", "Y"), crs = 4326, agr = "constant") %>%
st_transform(102271) %>%
mutate(Legend = "Liquor_Retail")
liquorRetail <-
read.socrata("https://data.cityofchicago.org/Community-Economic-Development/Business-Licenses-Current-Liquor-and-Public-Places/nrmj-3kcf") %>%
filter(BUSINESS.ACTIVITY == "Retail Sales of Packaged Liquor") %>%
dplyr::select(Y = LATITUDE, X = LONGITUDE) %>%
na.omit() %>%
st_as_sf(coords = c("X", "Y"), crs = 4326, agr = "constant") %>%
st_transform(102271) %>%
mutate(Legend = "Liquor_Retail")
liquorRetail <-
read.socrata("https://data.cityofchicago.org/Community-Economic-Development/Business-Licenses-Current-Liquor-and-Public-Places/nrmj-3kcf") %>%
filter(BUSINESS.ACTIVITY == "Retail Sales of Packaged Liquor") %>%
dplyr::select(Y = "LATITUDE", X = "LONGITUDE") %>%
na.omit() %>%
st_as_sf(coords = c("X", "Y"), crs = 4326, agr = "constant") %>%
st_transform(102271) %>%
mutate(Legend = "Liquor_Retail")
liquorRetail <-
read.socrata("https://data.cityofchicago.org/Community-Economic-Development/Business-Licenses-Current-Liquor-and-Public-Places/nrmj-3kcf")
liquorRetail <-
read.socrata("https://data.cityofchicago.org/Community-Economic-Development/Business-Licenses-Current-Liquor-and-Public-Places/nrmj-3kcf")
liquorRetail <-
read.socrata("https://data.cityofchicago.org/resource/nrmj-3kcf") %>%
filter(BUSINESS.ACTIVITY == "Retail Sales of Packaged Liquor") %>%
dplyr::select(Y = LATITUDE, X = LONGITUDE) %>%
na.omit() %>%
st_as_sf(coords = c("X", "Y"), crs = 4326, agr = "constant") %>%
st_transform(102271) %>%
mutate(Legend = "Liquor_Retail")
liquorRetail <-
read.socrata("https://data.cityofchicago.org/resource/nrmj-3kcf.json")
View(liquorRetail)
liquorRetail <-
read.socrata("https://data.cityofchicago.org/resource/nrmj-3kcf.json") %>%
filter(business_activity == "Retail Sales of Packaged Liquor")
View(liquorRetail)
liquorRetail <-
read.socrata("https://data.cityofchicago.org/resource/nrmj-3kcf.json") %>%
filter(business_activity == "Retail Sales of Packaged Liquor") %>%
dplyr::select(Y = latitude, X = longitude) %>%
na.omit() %>%
st_as_sf(coords = c("X", "Y"), crs = 4326, agr = "constant") %>%
st_transform(102271) %>%
mutate(Legend = "Liquor_Retail")
st_write(liquorRetail, "liquor_retail.shp")
neighborhoods <-
st_read("https://raw.githubusercontent.com/blackmad/neighborhoods/master/chicago.geojson") %>%
st_transform(102271)
st_write(neighborhoods, "Chicago_Neighborhoods.shp")
burglaries18 <-
read.socrata("https://data.cityofchicago.org/Public-Safety/Crimes-2018/3i3m-jwuy") %>%
filter(Primary.Type == "BURGLARY" &
Description == "FORCIBLE ENTRY") %>%
mutate(x = gsub("[()]", "", Location)) %>%
separate(x,into= c("Y","X"), sep=",") %>%
mutate(X = as.numeric(X),
Y = as.numeric(Y)) %>%
na.omit %>%
st_as_sf(coords = c("X", "Y"), crs = 4326, agr = "constant")%>%
st_transform(102271) %>%
distinct()
st_write(burglaries18, "burglaries18.shp")
View(burglaries)
table(is.na(burglaries))
install.packages("ggpmisc")
install.packages("rlang")
install.packages("tidyverse")
knitr::opts_chunk$set(echo = TRUE,results=TRUE, echo=TRUE, message = FALSE, warning=FALSE,
fig.align="center", cache=FALSE)
options(scipen=999)
studyAreaTowns <- st_read("C:/Users/sydng/Documents/UrbanSpatial/z_Chapters_1_3/Ch2_UGB_Chapter2019/Chapter2_UGBs_Data/studyAreaMUNICIPALties/Study_Area_MUNICIPALties.shp") %>% st_transform(102728)
library(tidyverse)
library(Sf)
library(sf)
studyAreaTowns <- st_read("C:/Users/sydng/Documents/UrbanSpatial/z_Chapters_1_3/Ch2_UGB_Chapter2019/Chapter2_UGBs_Data/studyAreaMUNICIPALties/Study_Area_MUNICIPALties.shp") %>% st_transform(102728)
studyAreaTowns <- st_read("C:/Users/sydng/Documents/UrbanSpatial/z_Chapters_1_3/Ch2_UGB_Chapter2019/Chapter2_UGBs_Data/studyAreaMUNICIPALties/Study_Area_Municipalities.shp") %>% st_transform(102728)
studyAreaTowns <- st_read("C:/Users/sydng/Documents/UrbanSpatial/z_Chapters_1_3/Ch2_UGB_Chapter2019/Chp2_UGB_sydney_edits/chp2_UGB_clean_data/StudyAreaTowns/StudyAreaTowns.shp") %>% st_transform(102728)
View(studyAreaTowns)
studyAreaTowns2 <- studyAreaTowns %>% rename(MUNI = MUNICIPAL)
setwd("~/UrbanSpatial/z_Chapters_1_3/Ch2_UGB_Chapter2019/Chp2_UGB_sydney_edits/chp2_UGB_clean_data/StudyAreaTowns")
st_write(studyAreaTowns2, "StudyAreaTowns.shp")
studyAreaTowns <- st_read("C:/Users/sydng/Documents/UrbanSpatial/z_Chapters_1_3/Ch2_UGB_Chapter2019/Chp2_UGB_sydney_edits/chp2_UGB_clean_data/StudyAreaTowns/StudyAreaTowns.shp") %>% st_transform(102728)
uga <- st_read("C:/Users/sydng/Documents/UrbanSpatial/z_Chapters_1_3/Ch2_UGB_Chapter2019/Chapter2_UGBs_Data/LancasterCountyUGB/UGA_in_StudyArea.shp") %>% st_transform(102728)
View(sanitation)
View(uga)
uga <- st_read("C:/Users/sydng/Documents/UrbanSpatial/z_Chapters_1_3/Ch2_UGB_Chapter2019/Chp2_UGB_sydney_edits/chp2_UGB_clean_data/UGB/Urban_Growth_Boundary.shp") %>% st_transform(102728)
View(uga)
